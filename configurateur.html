<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Configurateur Meubles 3D - Au Format</title>
  <meta name="description" content="Découvrez les avis vérifiés de nos clients sur nos réalisations en menuiserie et agencements sur mesure.">
  <link rel="canonical" href="https://auformat.fr/avis.html">

  <meta property="og:title" content="Avis Clients — Au Format">
  <meta property="og:description" content="Ils nous font confiance.">
  <meta property="og:url" content="https://auformat.fr/configurateur.html">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="theme-color" content="#2C5F2D">

  <link rel="stylesheet" href="/sources/css/style_global.css">
  <link rel="stylesheet" href="/sources/css/style_configurateur.css">
  <link rel="stylesheet" href="/sources/css/style_header.css">

  <link rel="icon" href="/sources/img/logo_tmp.png" type="image/png">
  <link rel="apple-touch-icon" href="/sources/img/logo_tmp.png">

<!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <!-- Scripts d'authentification dans l'ordre -->
  <script defer src="/js/config.js"></script>
  <script defer src="/js/auth.js"></script>
  <script defer src="/js/header-auth.js"></script>
  <script defer src="/js/header.js"></script>
  
  <!-- Script pour charger les partials -->
  <script defer src="/js/include.js"></script>
</head>


<body>
    <div data-include="partials/header.html"></div>
    <div class="container">
        <div class="header">
            <h1>🪑 Configurateur de Meubles Complets</h1>
            <p>Créez vos caissons, portes et tiroirs en 3D</p>
        </div>

        <div class="main-grid">
            <!-- Viewer 3D -->
            <div>
                <div class="card">
                    <h2>Visualisation 3D - Votre Meuble</h2>
                    <div id="viewer-container"></div>
                    <div class="controls">
                        <button class="btn" onclick="resetView()">🔄 Vue 3/4</button>
                        <button class="btn" onclick="changeView('front')">⬜ Face</button>
                        <button class="btn" onclick="changeView('side')">↔️ Côté</button>
                        <button class="btn" onclick="changeView('top')">⬆️ Dessus</button>
                        <button class="btn" onclick="toggleWireframe()">📐 Fil de fer</button>
                        <button class="btn" onclick="explodeView()">💥 Éclaté</button>
                    </div>
                </div>
            </div>

            <!-- Configuration -->
            <div>
                <!-- Templates -->
                <div class="section">
                    <div class="section-header">
                        <span>1. Type de Meuble</span>
                    </div>
                    <div class="section-content">
                        <div class="template-grid">
                            <div class="template-card active" onclick="selectTemplate('custom')">
                                <div class="template-icon">📦</div>
                                <div class="template-name">Personnalisé</div>
                            </div>
                            <div class="template-card" onclick="selectTemplate('kitchen-base')">
                                <div class="template-icon">🍳</div>
                                <div class="template-name">Meuble Bas</div>
                            </div>
                            <div class="template-card" onclick="selectTemplate('kitchen-high')">
                                <div class="template-icon">📚</div>
                                <div class="template-name">Meuble Haut</div>
                            </div>
                            <div class="template-card" onclick="selectTemplate('wardrobe')">
                                <div class="template-icon">👔</div>
                                <div class="template-name">Dressing</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dimensions Caisson -->
                <div class="section">
                    <div class="section-header">
                        <span>2. Caisson Principal</span>
                    </div>
                    <div class="section-content">
                        <div class="form-group">
                            <label class="form-label">Largeur (mm)</label>
                            <input type="number" class="form-input" id="width" value="800" min="300" max="2000" onchange="updateCabinet()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Hauteur (mm)</label>
                            <input type="number" class="form-input" id="height" value="720" min="300" max="2400" onchange="updateCabinet()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Profondeur (mm)</label>
                            <input type="number" class="form-input" id="depth" value="580" min="300" max="800" onchange="updateCabinet()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Épaisseur panneaux (mm)</label>
                            <select class="form-select" id="thickness" onchange="updateCabinet()">
                                <option value="18">18 mm</option>
                                <option value="19">19 mm</option>
                                <option value="22">22 mm</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Modules -->
                <div class="section">
                    <div class="section-header">
                        <span>3. Portes & Tiroirs</span>
                    </div>
                    <div class="section-content">
                        <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="addModule('door')">
                            🚪 Ajouter une Porte
                        </button>
                        <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="addModule('drawer')">
                            📦 Ajouter un Tiroir
                        </button>
                        <button class="btn btn-primary" style="width: 100%;" onclick="addModule('shelf')">
                            📐 Ajouter une Étagère
                        </button>

                        <div class="module-list" id="module-list" style="margin-top: 15px;">
                            <!-- Modules ajoutés dynamiquement -->
                        </div>
                    </div>
                </div>

                <!-- Prix -->
                <div class="price-section">
                    <div class="price-row">
                        <span>Caisson</span>
                        <strong id="price-cabinet">245.00 €</strong>
                    </div>
                    <div class="price-row">
                        <span>Modules (<span id="module-count">0</span>)</span>
                        <strong id="price-modules">0.00 €</strong>
                    </div>
                    <div class="price-row">
                        <span>Quincaillerie</span>
                        <strong id="price-hardware">35.00 €</strong>
                    </div>
                    <div class="price-row total">
                        <span>Total TTC</span>
                        <strong id="total-price">280.00 €</strong>
                    </div>
                    <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="saveFurniture()">
                        ✅ Valider et Sauvegarder
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div data-include="partials/footer.html"></div>
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="/js/configurateur.js"></script>
   
</body>
</html>